<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Inspection Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .calendar-container {
            position: relative;
        }

        .calendar {
            position: absolute;
            top: 100%;
            right: 0;
            z-index: 50;
            width: 200px;
            display: none;
        }

        .calendar-day {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.2s;
        }

        .calendar-day:hover {
            background-color: #e5e7eb;
        }

        .calendar-day.weekend {
            background-color: black;
            color: white;
        }

        .custom-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            z-index: 50;
            display: none;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #4b5563;
            background-color: white;
        }

        .custom-dropdown table {
            width: 100%;
            border-collapse: collapse;
        }

        .custom-dropdown td {
            padding: 6px 8px;
            text-align: left;
            border-bottom: 1px solid #4b5563;
        }

        .custom-dropdown td:not(:first-child) {
            border-right: 1px solid #4b5563;
        }

        .custom-dropdown tbody tr:hover {
            background-color: #f3f4f6;
            cursor: pointer;
        }

        #locationDropdown {
            width: 100%;
        }

        #locationDropdown td:first-child {
            width: 24px;
        }

        #locationDropdown input[type="checkbox"] {
            pointer-events: none;
        }

        .flash-blue {
            color: blue !important;
            transition: color 0.3s;
        }
    </style>
</head>

<body class="bg-gray-50 flex items-center justify-center min-h-screen p-4 sm:p-6">
    <div class="space-y-6 w-full max-w-2xl mx-auto">

        <!-- Eligibility Box -->
        <div id="eligibilityBox"
            class="border-2 border-blue-400 bg-white rounded-sm px-4 py-6 flex flex-col sm:flex-row sm:justify-between sm:items-center h-auto sm:h-[150px]">
            <div class="flex items-start sm:items-center">
                <input type="checkbox" checked class="mt-1 sm:mt-0 accent-blue-600 mr-2">
                <p class="text-sm text-gray-900 font-medium leading-snug max-w-md">
                    You are eligible for trusted badge only if you have<br class="sm:hidden" /> achieved 5 star ratings
                    on minimum 10 orders.
                </p>
            </div>
            <div class="flex justify-end mt-4 sm:mt-0">
                <button id="confirmBtn"
                    class="bg-blue-900 text-white px-5 py-2 rounded-sm text-sm font-medium hover:bg-blue-800 shadow-sm">
                    Confirm
                </button>
            </div>
        </div>

        <!-- Old Form -->
        <div id="formBoxOld"
            class="border border-gray-300 bg-white rounded-md shadow-sm p-6 opacity-40 pointer-events-none transition-opacity duration-300">
            <h2 class="text-sm font-semibold mb-4">
                <span class="text-gray-700">Old Form:</span>
                <span class="italic text-gray-600">"Get Your Product Inspected"</span>
            </h2>
            <form class="space-y-4">
                <div class="flex flex-col sm:flex-row sm:items-center gap-4">
                    <label class="w-full sm:w-1/3 text-sm font-medium text-gray-700">Location</label>
                    <select disabled class="w-full sm:w-2/3 border border-gray-300 rounded-md px-3 py-2 text-sm">
                        <option>Select Location</option>
                        <option>Karachi</option>
                        <option>Lahore</option>
                        <option>Islamabad</option>
                    </select>
                </div>
                <div class="flex flex-col sm:flex-row sm:items-center gap-4">
                    <label class="w-full sm:w-1/3 text-sm font-medium text-gray-700">House No\Building No</label>
                    <input disabled type="text"
                        class="w-full sm:w-2/3 border border-gray-300 rounded-md px-3 py-2 text-sm"
                        placeholder="Enter house/building no">
                </div>
                <div class="flex flex-col sm:flex-row sm:items-center gap-4">
                    <label class="w-full sm:w-1/3 text-sm font-medium text-gray-700">Make/Model/Version</label>
                    <input disabled type="text"
                        class="w-full sm:w-2/3 border border-gray-300 rounded-md px-3 py-2 text-sm"
                        placeholder="Enter details">
                </div>
                <div class="flex flex-col sm:flex-row sm:items-center gap-4">
                    <label class="w-full sm:w-1/3 text-sm font-medium text-gray-700">Inspection Slot</label>
                    <div class="w-full sm:w-2/3">
                        <input disabled type="datetime-local"
                            class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        <p class="text-xs text-gray-500 mt-1">Select the date and time for the inspection.</p>
                    </div>
                </div>
                <div class="flex flex-col sm:flex-row sm:items-center gap-4">
                    <label class="w-full sm:w-1/3 text-sm font-medium text-gray-700">Full Name</label>
                    <input disabled type="text" placeholder="Full name"
                        class="w-full sm:w-2/3 border border-gray-300 rounded-md px-3 py-2 text-sm">
                </div>
                <div class="flex flex-col sm:flex-row sm:items-center gap-4">
                    <label class="w-full sm:w-1/3 text-sm font-medium text-gray-700">Phone Number</label>
                    <input disabled type="tel" placeholder="+923*********"
                        class="w-full sm:w-2/3 border border-gray-300 rounded-md px-3 py-2 text-sm">
                </div>
                <div class="flex justify-end">
                    <button disabled type="submit"
                        class="bg-blue-500 text-white px-6 py-2 rounded-md mt-2 sm:mt-0">Submit</button>
                </div>
            </form>
        </div>

        <!-- New Form -->
        <div id="formBoxNew"
            class="border border-gray-300 bg-white rounded-md shadow-sm p-6 opacity-40 pointer-events-none hidden">
            <h2 class="text-sm font-semibold mb-4">
                <span class="text-gray-700">Title:</span>
                <span class="italic text-gray-600">"Get Your Product Inspected"</span>
            </h2>
            <form class="space-y-4">

                <!-- First Row: Product ID + Location -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <div class="w-full sm:w-1/2">
                        <label for="productID" class="block text-sm font-medium text-gray-700">Product ID<span
                                class="text-red-500">*</span></label>
                        <input type="text" id="productID" placeholder="Already posted ad" disabled
                            class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div class="w-full sm:w-1/2 relative">
                        <label for="locationNew" class="block text-sm font-medium text-gray-700">Location<span
                                class="text-red-500">*</span></label>
                        <div id="locationInputContainer"
                            class="relative mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-sm cursor-pointer">
                            <span id="selectedLocationText">Select Location</span>
                            <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20"
                                    fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                        clip-rule="evenodd" />
                                </svg>
                            </span>
                        </div>
                        <div id="locationDropdown"
                            class="custom-dropdown bg-white border-gray-300 rounded-md shadow-lg mt-1 p-2">
                            <table>
                                <tbody id="locationTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Second Row: House No + Postal -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <div class="w-full sm:w-1/2">
                        <label for="houseNo" class="block text-sm font-medium text-gray-700">House No\Building No<span
                                class="text-red-500">*</span></label>
                        <input type="text" id="houseNoNew" disabled
                            class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div class="w-full sm:w-1/2">
                        <label for="postalCode" class="block text-sm font-medium text-gray-700">Postal code</label>
                        <input type="text" id="postalCodeNew" disabled
                            class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                </div>

                <!-- Inspection Slot -->
                <div>
                    <label for="inspectionSlot" class="block text-sm font-medium text-gray-700">Inspection Slot<span
                            class="text-red-500">*</span></label>
                    <div class="relative calendar-container">
                        <div class="relative">
                            <input type="text" id="inspectionSlotCustom" placeholder="Select Date/Time" disabled
                                class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-sm pr-10 cursor-pointer">
                            <span class="absolute inset-y-0 right-0 flex items-center pr-3">
                                <svg class="h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                                        clip-rule="evenodd" />
                                </svg>
                            </span>
                        </div>
                        <div id="calendarDropdown"
                            class="bg-white mt-1 border border-gray-300 rounded-md shadow-lg p-3 calendar">
                            <div class="flex justify-between items-center mb-2">
                                <div class="text-sm font-semibold" id="currentMonthYear">January</div>
                                <div class="flex space-x-2 text-sm">
                                    <button type="button" class="text-gray-600 hover:text-gray-900"
                                        id="prevMonthBtn">&larr;</button>
                                    <button type="button" class="text-gray-600 hover:text-gray-900"
                                        id="nextMonthBtn">&rarr;</button>
                                </div>
                            </div>
                            <div class="grid grid-cols-7 gap-1 text-center text-xs font-medium text-gray-500 mb-2">
                                <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
                            </div>
                            <div class="grid grid-cols-7 gap-1 text-center" id="calendarDates"></div>
                        </div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">Select the date and time for the inspection.</p>
                </div>

                <!-- Full Name -->
                <div>
                    <label for="fullName" class="block text-sm font-medium text-gray-700">Full Name<span
                            class="text-red-500">*</span></label>
                    <input type="text" id="fullNameNew" placeholder="Full name" disabled
                        class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                </div>

                <!-- Phone -->
                <div>
                    <label for="phoneNo" class="block text-sm font-medium text-gray-700">Phone Number<span
                            class="text-red-500">*</span></label>
                    <input type="tel" id="phoneNoNew" placeholder="+923*********" disabled
                        class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                </div>

                <!-- Submit -->
                <div class="flex justify-end mt-6">
                    <button type="submit" id="submitBtnNew" disabled
                        class="bg-blue-900 text-white px-6 py-2 rounded-sm text-sm font-medium hover:bg-blue-800">
                        Submit
                    </button>
                </div>

            </form>
        </div>
    </div>

    <script>
        // --- JS Same as aapka pehle ka ---
        const confirmBtn = document.getElementById("confirmBtn");
        const formBoxOld = document.getElementById("formBoxOld");
        const formBoxNew = document.getElementById("formBoxNew");

        const inspectionSlotInput = document.getElementById("inspectionSlotCustom");
        const calendarDropdown = document.getElementById("calendarDropdown");
        const currentMonthYearEl = document.getElementById("currentMonthYear");
        const calendarDatesEl = document.getElementById("calendarDates");
        const prevMonthBtn = document.getElementById("prevMonthBtn");
        const nextMonthBtn = document.getElementById("nextMonthBtn");

        let currentDate = new Date();
        const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            currentMonthYearEl.textContent = `${months[month]} ${year}`;
            const firstDayIndex = new Date(year, month, 1).getDay();
            const lastDay = new Date(year, month + 1, 0).getDate();
            calendarDatesEl.innerHTML = '';

            for (let i = 0; i < firstDayIndex; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.style.width = '24px';
                emptyDay.style.height = '24px';
                calendarDatesEl.appendChild(emptyDay);
            }

            for (let i = 1; i <= lastDay; i++) {
                const dayEl = document.createElement('div');
                dayEl.classList.add('calendar-day');
                const dayOfWeek = new Date(year, month, i).getDay();
                if (dayOfWeek === 0 || dayOfWeek === 6) {
                    dayEl.classList.add('weekend');
                }
                dayEl.textContent = i;
                dayEl.addEventListener('click', () => {
                    inspectionSlotInput.value = `${months[month]} ${i}, ${year}`;
                    calendarDropdown.style.display = 'none';
                });
                calendarDatesEl.appendChild(dayEl);
            }
        }

        const calendarIcon = inspectionSlotInput.nextElementSibling;
        calendarIcon.addEventListener('click', () => {
            calendarDropdown.style.display = calendarDropdown.style.display === 'none' ? 'block' : 'none';
        });

        prevMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        });

        nextMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        });

        confirmBtn.addEventListener("click", () => {
            formBoxOld.classList.add("hidden");
            formBoxNew.classList.remove("hidden");
            formBoxNew.classList.remove("opacity-40", "pointer-events-none");
            formBoxNew.querySelectorAll("input, select, button").forEach(el => el.disabled = false);
            renderCalendar();
        });

        // --- Location Dropdown Logic ---
        const locationInputContainer = document.getElementById("locationInputContainer");
        const locationDropdown = document.getElementById("locationDropdown");
        const locationTableBody = document.getElementById("locationTableBody");
        const selectedLocationText = document.getElementById("selectedLocationText");

        const locations = [
            { city: 'Karachi', area: 'DHA' },
            { city: 'Lahore', area: 'Bahria Town' },
            { city: 'Islamabad', area: 'Farash Town' },
            { city: 'Peshawar', area: 'Regi Model Town' },
            { city: 'Rawalpindi', area: 'Lyallpur' },
            { city: 'Faisalabad', area: 'Lyallpur' },
            { city: 'Hyderabad', area: 'Madhapur' },
            { city: 'Multan', area: 'Hussain Agahi' }
        ];

        function renderLocationOptions() {
            locationTableBody.innerHTML = '';
            locations.forEach(location => {
                const row = document.createElement('tr');
                row.innerHTML = `
          <td><input type="checkbox" disabled></td>
          <td class="font-medium">${location.city}</td>
          <td>${location.area}</td>
        `;
                row.addEventListener('click', () => {
                    selectedLocationText.textContent = `${location.city}, ${location.area}`;
                    locationDropdown.style.display = 'none';
                    row.querySelector('input[type="checkbox"]').checked = true;
                });
                locationTableBody.appendChild(row);
            });
        }

        locationInputContainer.addEventListener('click', () => {
            locationDropdown.style.display = locationDropdown.style.display === 'block' ? 'none' : 'block';
        });

        document.addEventListener('click', (event) => {
            if (!locationInputContainer.contains(event.target) && !locationDropdown.contains(event.target)) {
                locationDropdown.style.display = 'none';
            }
        });

        renderLocationOptions();
    </script>
</body>

</html>